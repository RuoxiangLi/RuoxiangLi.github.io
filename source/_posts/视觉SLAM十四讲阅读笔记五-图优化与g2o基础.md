---
title: 视觉SLAM十四讲阅读笔记五-图优化与g2o基础
date: 2018-08-31 10:17:36
tags: 
  - SLAM基础
  - 读书笔记
  - 图优化
  - g2o
mathjax: true
categories: 
  - SLAM
  - 读书笔记
---

---

这篇文章是阅读视觉SLAM十四讲第6讲非线性优化部分和高翔关于图优化与g2o库的博客过程中总结和记录的内容，属于SLAM系统优化的基础理论内容。

<!--more-->

## 关于图优化

参考：[知乎问题](https://www.zhihu.com/question/42050992)

图优化是目前视觉SLAM里主流的优化方式。其思想是把一个优化问题表达成图（Graph），以便我们理解、观察。一个图中有很多顶点，以及连接各顶点的边。当它们表示一个优化问题时，**顶点**是待优化的**变量**，而**边**是指**误差项**。我们把各个边的误差加到一起，就得到了整个优化问题的误差函数。下面这些图都是不同的表达形式，前三个是ORB-SLAM2中用到图。（关于图优化和常用的优化库g2o还需要再深入学习）

### Covisibility Graph

共视图，是一个无向有权图（Graph），这个概念最早来自2010的文章[Closing Loops Without Places]。该图中每个顶点就是关键帧，如果两个关键帧有相同的地图点（即它们有共视点），就把这两个顶点连接起来，连接边的权重就是两个关键帧共享的3D点的个数。

### Essential Graph

为了在优化阶段减小计算量，ORB-SLAM2作者提出了**Essential Graph**的概念，主要用它来进行全局优化。它是共视图的子集，即Covisibity Graph的最小生成树（MST）。该图中顶点是关键帧，但只连接某个关键帧和与之拥有最多共享的地图点的关键帧。这样能够连接所有的顶点，但是边会减少很多。

### Spanning Graph

生成树

### Pose Graph

如果我们对特征点的空间位置并不关心，就可以构建只带有关键帧结点，以及它们之间的边这样的图。由于一个照片中常常有上千个特征点，这样做可以节省许多计算量。